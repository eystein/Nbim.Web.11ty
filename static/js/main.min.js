export default function articleFeedback(id){const feedbackDiv=document.getElementById(id);if(feedbackDiv){const submitBtn=feedbackDiv.querySelector('button[type="submit"]');const yesRadio=(()=>{const eng=feedbackDiv.querySelector('input[value="Yes"]');const nor=feedbackDiv.querySelector('input[value="Ja"]');if(eng){return eng}else if(nor){return nor}return false})();const noRadio=(()=>{const eng=feedbackDiv.querySelector('input[value="No"]');const nor=feedbackDiv.querySelector('input[value="Nei"]');if(eng){return eng}else if(nor){return nor}return false})();if(submitBtn)submitBtn.style.display="none";if(yesRadio){yesRadio.addEventListener("click",(()=>{submitBtn.style.display="block"}))}if(noRadio){noRadio.addEventListener("click",(()=>{submitBtn.style.display="block"}))}}}import lazyScript from"./lazyScript";export default function nbimChartDefault({id:id,highchartsUrl:highchartsUrl="//code.highcharts.com/highcharts.js",dataUrl:dataUrl="https://nbim-proto-2018.firebaseapp.com/json/chart-1.json",chartTitleText:chartTitleText,chartSubtitleText:chartSubtitleText,chartSubtitleTextMobile:chartSubtitleTextMobile,chartYAxisTitleText:chartYAxisTitleText,chartSeriesName:chartSeriesName}){document.addEventListener("DOMContentLoaded",(()=>{lazyScript(id,highchartsUrl,100,(()=>{$.getJSON(dataUrl,(data=>{Highcharts.chart(id,{credits:false,chart:{zoomType:"x",style:{fontFamily:'"azo-sans-web", arial, sans-serif',fontStyle:"normal",fontWeight:"300"}},title:{text:chartTitleText},subtitle:{text:document.ontouchstart===undefined?chartSubtitleText:chartSubtitleTextMobile},xAxis:{type:"datetime",dateTimeLabelFormats:{year:"%Y"}},yAxis:{title:{text:chartYAxisTitleText},min:0,labels:{format:"{value:,.0f}"}},legend:{enabled:false},plotOptions:{series:{lineColor:"rgba(20, 117, 164, 1)",animation:{duration:1250}},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(73, 145, 184, 1)"],[1,"rgba(20, 117, 164, 1)"]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"area",name:chartSeriesName,data:data}]})}))}))}))}export default function getUrlParam(param,url){let theUrl=url;if(!url){theUrl=location.href}const theParam=param.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const regexS=`[\\?&]${theParam}=([^&#]*)`;const regex=new RegExp(regexS);const results=regex.exec(theUrl);return results===null?null:results[1]}import{saveAs}from"file-saver";import nbimTableColumnToggler from"./nbimTableColumnToggler";export default function graphToTable(renderTo,props,renderAsResponsiveTable,exportToXls=false){const renderToElm=document.getElementById(renderTo);const{series:series,timeline:timeline}=props;if(renderToElm&&typeof series==="object"){if(renderToElm.innerHTML!==""){renderToElm.innerHTML=""}const output=document.createElement(renderAsResponsiveTable?"div":"table");let thead="";let tbody="<tr>\n";let table="";let currentColumn=0;let currentRow=0;const totalColumns=series.length-1;let totalRows=0;series.sort(((a,b)=>a.index>b.index?1:-1));series.map(((data,i)=>{thead+=timeline&&i===0?`<th>&nbsp;</th>\n<th>${data.name}</th>\n`:`<th>${data.name}</th>\n`;if(typeof data.data==="object"){if(totalRows===0){totalRows=data.data.length}for(let y=0,j=data.data.length;y<j;y++){const column=(columnValue,toggler)=>{if(typeof columnValue==="undefined"){tbody+="<td></td>\n";return}tbody+="<td>\n";if(renderAsResponsiveTable){if(!toggler){tbody+=`<span class="nbim-responsive-table--key">${typeof series[currentColumn].name!=="undefined"?series[currentColumn].name:""}</span>\n`}tbody+='<span class="nbim-responsive-table--value">\n'}tbody+=columnValue;if(renderAsResponsiveTable){tbody+="</span>\n";if(toggler){tbody+='<button class="nbim-responsive-table__toggler" aria-haspopup="true" aria-expanded="false"><i class="nbim-responsive-table__toggler--icon"></i></button>\n'}}tbody+="</td>\n"};const rowEnd=()=>{if(currentRow===totalRows-1){column(series[currentColumn].data[currentRow][1],false);tbody+="</tr>\n"}else{column(series[currentColumn].data[currentRow][1],false);tbody+="</tr>\n<tr>\n";currentColumn=0;currentRow++}};if(currentColumn===totalColumns){if(totalColumns===0){column(timeline[currentRow],true)}rowEnd()}else{if(timeline&&currentColumn===0){column(timeline[currentRow],true);column(series[currentColumn].data[currentRow][1],false)}else{column(series[currentColumn].data[currentRow][1],currentColumn===0)}currentColumn++}}}}));if(renderAsResponsiveTable){table+='<div class="nbim-responsive-table__inner-container">\n'+'<div class="nbim-responsive-table nbim-responsive-table--unfolded nbim-responsive-table--restricted-width">\n'+"<table>\n"}table+=`${"<thead>\n"+"<tr>\n"}${thead}</tr>\n`+"</thead>\n"+`<tbody>\n${tbody}</tbody>\n`;if(renderAsResponsiveTable){table+="</table>"+'<button class="nbim-responsive-table__scroll-indicator" data-button-text="Scroll og vis mer av tabell">\n'+'<i class="nbim-responsive-table__scroll-indicator--icon"></i>\n'+"</button>\n"+"</div>\n"+"</div>\n";output.className="nbim-responsive-table__outer-container m-t-20 m-b-20"}output.innerHTML=table;if(exportToXls){renderToElm.appendChild(output);renderToElm.firstChild.style.display="none";const tableHTML=renderToElm.firstChild;const s2ab=s=>{const buf=new ArrayBuffer(s.length);const view=new Uint8Array(buf);for(let i=0;i<s.length;i++)view[i]=s.charCodeAt(i)&255;return buf};const wb=XLSX.utils.table_to_book(tableHTML,{sheet:"Sheet JS"});const wbout=XLSX.write(wb,{bookType:"xls",bookSST:true,type:"binary"});saveAs(new Blob([s2ab(wbout)],{type:"application/octet-stream"}),"nbim-data-dump.xls")}else{renderToElm.appendChild(output)}nbimTableColumnToggler()}}import{isNotEmptyArray}from"../../utils/isEmptyUtil";export const isIE11=!!window.msCrypto;export const setAttrs=(element,obj)=>{for(const p in obj){if({}.hasOwnProperty.call(obj,p)){element.setAttribute([p],obj[p])}}};export const setStyle=(element,obj)=>{for(const p in obj){element.style[p]=obj[p]}};export const on=(to,type,fn)=>{if(document.addEventListener){to.addEventListener(type,fn,false)}else if(document.attachEvent){to.attachEvent(`on${type}`,fn)}else{to[`on${type}`]=fn}};export const hasClass=(el,cl,hasChildren=false)=>{if(hasChildren){for(const child of el){if(child.classList.contains(cl)){return true}}}else if(el.classList.contains(cl)){return true}return false};const arrayContainsString=(arr,str)=>{if(Array.prototype.includes){return arr.includes(str)}return arr.toString().indexOf(str)!==-1};export const excludeHosts=locationOrigins=>{let state=true;const origins=[];if(typeof parent.window.location==="object"){if(locationOrigins&&isNotEmptyArray(locationOrigins)){locationOrigins.map((item=>{const regex=new RegExp(item);if(regex.test(parent.window.location.origin)){origins.push("false")}return null}))}if(arrayContainsString(origins,"false")){state=false}}return state};export const logMessage=(message,styles)=>{if(typeof parent.window.console==="object"&&excludeHosts(["http://nbim.no","http://www.nbim.no","https://nbim.no","https://www.nbim.no","http://inte.nbim.no","https://inte.nbim.no"])){parent.window.console.log(message,styles)}};export const isEmpty=value=>value==null||value.length===0;export const isPath=path=>{let status=false;if(path||path===""){const currentUrl=window.location.pathname;if(currentUrl!==""&&currentUrl!==undefined){const slug=currentUrl.replace("/","").replace(".html","");if(path===slug){status=true}}}return status};export const getSiblings=elem=>{const siblings=[];let sibling=elem.parentNode.firstChild;while(sibling){if(sibling.nodeType===1&&sibling!==elem){siblings.push(sibling)}sibling=sibling.nextSibling}return siblings};export const setSelectedOption=sel=>sel.value;import{logMessage}from"./helpers";export default function lazyScript(elId,scriptUrl=null,threshold,cb){(function(){function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();const getElement=id=>document.getElementById(id);const windowHeight=()=>window.innerHeight||document.documentElement.clientHeight;const windowWidth=()=>window.innerWidth||document.documentElement.clientWidth;let notCalled=true;let scrollingHandler;let checkViewport;const fireWhenReady=(el,straightAway=false)=>{const event=new CustomEvent("inViewPort");checkViewport=()=>{const rect=el.getBoundingClientRect();if(rect.top>=0&&rect.left>=0&&rect.bottom<=windowHeight()+windowHeight()/2&&rect.right<=windowWidth()){el.dispatchEvent(event);notCalled=false}else if(straightAway){el.dispatchEvent(event);notCalled=false}};scrollingHandler=()=>notCalled&&requestAnimationFrame(checkViewport);window.addEventListener("scroll",scrollingHandler)};const injectJS=(url,callback)=>{const injs=document.createElement("script");injs.src=url;injs.type="text/javascript";injs.async=true;const success=logMessage(`[injectJS] ${url} has loaded as a script!`);if(injs.addEventListener){injs.addEventListener("load",success,false)}document.body.appendChild(injs);const doCallback=(()=>callback)();doCallback()};const containerScript=getElement(elId);const doScript=(inViewPort=false)=>{if(scriptUrl){injectJS(scriptUrl,(()=>{logMessage(`[lazyScript] ${elId} was lazy-loaded!`,"");if(inViewPort)window.removeEventListener("scroll",scrollingHandler);if(cb){setTimeout((()=>{cb()}),300)}}))}else{setTimeout((()=>{cb?cb():logMessage("Callback is not defined","");logMessage(`[lazyScript] ${elId} was lazy-loaded!`,"")}),300)}};if(containerScript){const containerPosition=containerScript.getBoundingClientRect().top;if(containerPosition+window.scrollY<=window.scrollY){doScript();fireWhenReady(containerScript)}else{window.scroll(0,window.scrollY+1);containerScript.addEventListener("inViewPort",(()=>{doScript(true)}));if(window.scrollY<100&&containerPosition<=window.innerHeight){fireWhenReady(containerScript,true)}else{fireWhenReady(containerScript)}}}}import"core-js";import Headroom from"headroom.js";import articleFeedback from"./articleFeedback";import{isIE11}from"./helpers";import nbimToggler from"./nbimToggler";import nbimTableColumnToggler from"./nbimTableColumnToggler";import nbimFilterSelect from"./nbimFilterSelect";import nbimSearchToggler from"./nbimSearchToggler";import nbimMenuMobileToggler from"./nbimMenuMobileToggler";import nbimFoldedTableToggler from"./nbimFoldedTableToggler";import nbimTableScrollIndicator from"./nbimTableScrollIndicator";import nbimScrollTo from"./nbimScrollTo";import nbimTabSwitcher from"./nbimTabSwitcher";import nbimLazyImage from"./nbimLazyImage";import nbimAddWrapperClassIfUrlParam from"./nbimAddWrapperClassIfUrlParam";import nbimTableToExcel from"./nbimTableToExcel";import containsString from"./../../utils/containsStringUtil";import{termsChangeEventHandler,inputChangeEventHandler,initialRender}from"./subscription";const envUrl=location.host;const inputEmail=document.getElementById("mail");const acceptTerms=document.getElementById("Confirm");if(containsString(envUrl,"www.nbim.no")&&typeof window==="object"&&window.netlife.useSentry===true){if(typeof document.body==="object"){const sentryScript=document.createElement("script");sentryScript.src="//browser.sentry-cdn.com/5.21.1/bundle.min.js";sentryScript.integrity="sha384-uFON5MXfE3NkWO60hM8JaXAYAV0fqTCQbdy282z8YfelqBoXx+F7JFzX6+WfFIML";sentryScript.crossOrigin="anonymous";document.body.appendChild(sentryScript);sentryScript.onload=()=>{Sentry.init({dsn:"https://7274037bb6fe488a81181f87af9203ee@o205316.ingest.sentry.io/1322851"});Sentry.configureScope((scope=>{scope.setTag("env",envUrl)}))}}}document.addEventListener("DOMContentLoaded",(()=>{if(inputEmail!==null){initialRender();inputEmail.oninput=inputChangeEventHandler;acceptTerms.onchange=termsChangeEventHandler}articleFeedback("article-feedback");if(typeof window==="object"){const{netlife:{togglers:togglers=[]}={}}=window;togglers.forEach((toggler=>{nbimToggler(toggler)}))}nbimToggler("section-accordions-jobs");nbimToggler("section-offices-vaare-kontorer");nbimToggler("section-contacts-nbim");nbimToggler("section-contacts-nbrem");nbimToggler("article-footnotes");nbimToggler("section-vacancies");nbimToggler("section-accordion");nbimSearchToggler("header-proto");nbimMenuMobileToggler("header-proto");nbimFoldedTableToggler();nbimTableColumnToggler();nbimTableScrollIndicator();if(isIE11){const nbimScrollDownButtonEl=document.getElementById("nbimScrollDownButton");if(nbimScrollDownButtonEl){nbimScrollDownButtonEl.style.display="none"}const nbimScrollUpButtonEl=document.getElementById("nbimScrollUpButton");if(nbimScrollUpButtonEl)nbimScrollDownButtonEl.style.display="none"}else{nbimScrollTo("nbimScrollDownButton","nbimScrollDownButton");nbimScrollTo("nbimScrollUpButton",null,true)}nbimFilterSelect({mainElId:"filter-select-year",subElId:"filter-select-type-report",sharedListsClass:"section__lists-with-filter--list"});nbimFilterSelect({mainElId:"filter-select-type-video-archive",subElId:"filter-select-year-video-archive",sharedListsClass:"section__lists-with-filter--list",targetList:true,whenFilteredDoNotShow:"when-filtered--do-not-show",whenFilteredDoShow:"when-filtered--do-show"});nbimLazyImage("nbim-lazy-image","nbim-lazy-image--animate");nbimAddWrapperClassIfUrlParam("show-helpers","helpers");nbimTabSwitcher("section__tabs__wrapper","section__tabs__content-wrapper");if(typeof XLSX!=="undefined"){nbimTableToExcel()}const headerProto=document.getElementById("header-proto");if(headerProto){const headroom=new Headroom(headerProto,{offset:100});headroom.init()}const handleFirstTab=e=>{if(e.keyCode===9){document.body.classList.add("user-is-tabbing");window.removeEventListener("keydown",handleFirstTab)}};window.addEventListener("keydown",handleFirstTab)}));import getUrlParam from"./getUrlParam";export default function nbimAddWrapperClassIfUrlParam(wrapperClass,param){const b=document.querySelector("body");if(b!==null){if(getUrlParam(param)){b.classList.add(wrapperClass)}}}import Highcharts from"highcharts";import merge from"deepmerge";import graphToTable from"./graphToTable";import lazyScript from"./lazyScript";import{hasClass,isEmpty,isIE11}from"./helpers";import{getSeriesTimeline,sliceData}from"../../utils/chartsUtils";const sharedChartOptions={lang:{decimalPoint:".",thousandsSep:","},global:{useUTC:true},chart:{backgroundColor:"transparent",style:{fontFamily:"azo-sans-web, arial, sans-serif",fontStyle:"normal",fontWeight:"300"}},credits:{enabled:false},title:{text:null},navigator:{enabled:false,allButtonsEnabled:false,series:{includeInCSVExport:false}},legend:{enabled:false,layout:"horizontal",verticalAlign:"bottom",borderWidth:0,floating:false,align:"left",margin:40,itemStyle:{textDecoration:"none"}},exporting:{enabled:false}};const sharedYAxis=[{title:{text:""},gridLineWidth:1,lineWidth:1},{title:{text:""},gridLineWidth:1,lineWidth:1,linkedTo:0,opposite:true,visible:true}];const sharedChartPropsArea={chart:{type:"area"},xAxis:{type:"datetime",tickInterval:365*24*1e3*3600},plotOptions:{column:{},line:{marker:{enabled:false}}},exporting:{csv:{dateFormat:"%Y",decimals:"0"}}};const sharedChartPropsColumn={chart:{type:"column"},xAxis:{type:"datetime",tickInterval:365*24*1e3*3600},plotOptions:{column:{stacking:"normal"},line:{marker:{enabled:false}}},exporting:{csv:{dateFormat:"%Y",decimals:"0"}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{xAxis:{tickInterval:3600*24*1e3*3600}}}]}};const sharedChartPropsPie={chart:{type:"pie"},plotOptions:{pie:{size:"75%",slicedOffset:0,allowPointSelect:true,cursor:"pointer",dataLabels:{enabled:true,format:"{point.name}: {point.y}",style:{fontFamily:"'AzoSans Light', sans-serif",fontSize:"14px",fontWeight:"normal"}},startAngle:-90,endAngle:270}}};const sharedChartPropsLine={chart:{type:"line"},xAxis:{type:"datetime",tickInterval:365*24*1e3*3600},plotOptions:{column:{},line:{marker:{enabled:false}}},exporting:{csv:{dateFormat:"%d-%m-%Y",decimals:"2"}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{xAxis:{tickInterval:3600*24*1e3*3600}}}]}};export function initChart({renderTo:renderTo,reflowStatus:reflowStatus,data:data,chartType:chartType="column",showFilter:showFilter=false,buttonHeader:buttonHeader="",buttonActiveText:buttonActiveText="",buttonsInactive:buttonsInactive=[],extras:extras={},optionsYAxis:optionsYAxis=[],optionsChart:optionsChart={}}){const el=document.getElementById(renderTo);if(el){const{series:series=[],timeline:timeline=[]}=data;if(!isEmpty(series)){data.timeline=isEmpty(timeline)?getSeriesTimeline(series[0]):timeline;let sharedChartProps=null;switch(chartType){case"area":sharedChartProps=sharedChartPropsArea;break;case"column":sharedChartProps=sharedChartPropsColumn;break;case"line":sharedChartProps=sharedChartPropsLine;break;case"pie":sharedChartProps=sharedChartPropsPie;break;default:sharedChartProps=sharedChartPropsColumn;console.warn('[initChart] No value was passed for "chartType" (area, column, line, pie), so we fell back to the default "column"')}const renderExtras=props=>{const{status:status=false,showAsTableTextOff:showAsTableTextOff="Vis som tabell",showAsTableTextOn:showAsTableTextOn="Lukk tabell",downloadXLSText:downloadXLSText="Last ned Excell fil"}=extras;const elExtras=document.getElementById(`${renderTo}__extras`);if(status&&elExtras){const idExtrasRenderTable=`${renderTo}-render-table`;const idExtrasButtonTable=`${renderTo}-show-as-table`;const idExtrasButtonDownload=`${renderTo}-download-xls`;const idExtrasRenderTable2=`${renderTo}-download-xls-table`;if(elExtras.innerHTML===""){const classesExtrasWrapper=["section__graph-table__footer"];const classesExtrasItems=["section__graph-table__footer__links"];const classesExtrasRenderTable=["chart-table-container"];const classesExtrasButtonDownload=["download"];const extrasWrapper=document.createElement("div");const extrasItems=document.createElement("ul");const extrasItem1=document.createElement("li");const extrasItem2=document.createElement("li");const extrasButtonTable=document.createElement("button");const extrasRenderTable=document.createElement("div");const extrasRenderTable2=document.createElement("div");const extrasButtonDownload=document.createElement("button");extrasRenderTable.setAttribute("id",idExtrasRenderTable);extrasButtonTable.setAttribute("id",idExtrasButtonTable);extrasButtonDownload.setAttribute("id",idExtrasButtonDownload);extrasRenderTable2.setAttribute("id",idExtrasRenderTable2);extrasWrapper.classList.add(...classesExtrasWrapper);extrasItems.classList.add(...classesExtrasItems);extrasRenderTable.classList.add(...classesExtrasRenderTable);extrasButtonDownload.classList.add(...classesExtrasButtonDownload);extrasButtonTable.setAttribute("aria-haspopup","true");extrasButtonTable.setAttribute("aria-expanded","false");extrasButtonTable.innerText=showAsTableTextOff;extrasButtonDownload.innerText=downloadXLSText;extrasWrapper.appendChild(extrasItems);extrasItems.appendChild(extrasItem1);extrasItems.appendChild(extrasItem2);extrasItem1.appendChild(extrasButtonTable);extrasItem1.appendChild(extrasRenderTable);extrasItem2.appendChild(extrasButtonDownload);extrasItem2.appendChild(extrasRenderTable2);elExtras.appendChild(extrasWrapper);const extrasButtonTableDOM=document.getElementById(idExtrasButtonTable);const extrasRenderTableDOM=document.getElementById(idExtrasRenderTable);const extrasButtonDownloadDOM=document.getElementById(idExtrasButtonDownload);if(extrasButtonTableDOM){extrasButtonTableDOM.addEventListener("click",(e=>{e.preventDefault();e.stopPropagation();if(hasClass(extrasButtonTableDOM,"selected")){extrasButtonTableDOM.classList.remove("selected");extrasButtonTableDOM.innerText=showAsTableTextOff}else{extrasButtonTableDOM.classList.add("selected");extrasButtonTableDOM.innerText=showAsTableTextOn}if(hasClass(extrasButtonTableDOM,"selected")){extrasButtonTableDOM.setAttribute("aria-expanded","true");extrasRenderTableDOM.classList.add("selected");graphToTable(`${renderTo}-render-table`,props,true,false)}else{extrasButtonTableDOM.setAttribute("aria-expanded","false");extrasRenderTableDOM.classList.remove("selected")}}))}if(extrasButtonDownloadDOM){if(typeof XLSX!=="undefined"){extrasButtonDownloadDOM.addEventListener("click",(e=>{e.preventDefault();e.stopPropagation();graphToTable(`${renderTo}-download-xls-table`,props,false,true)}))}else{const dlButton=document.getElementById(`${renderTo}-download-xls`);dlButton.style.display="none"}}}}};const renderTheChart=props=>{const localChartProps={...props};const allProps=merge(sharedChartProps,localChartProps);const emptyTarget=value=>Array.isArray(value)?[]:{};const clone=(value,options)=>merge(emptyTarget(value),value,options);const combineMerge=(target,source,options)=>{const destination=target.slice();for(let i=0;i<source.length;i++){if(typeof destination[i]==="undefined"){const cloneRequested=options.clone!==false;const shouldClone=cloneRequested&&options.isMergeableObject(source[i]);destination[i]=shouldClone?clone(source[i],options):source[i]}else if(options.isMergeableObject(source[i])){destination[i]=merge(target[i],source[i],options)}else if(target.indexOf(source[i])===-1){destination.push(source[i])}}return destination};const mergedYAxisArray=merge(sharedYAxis,optionsYAxis,{arrayMerge:combineMerge});const mergedYAxisObject={yAxis:mergedYAxisArray};const allPropsWithYAxis=merge(allProps,mergedYAxisObject);Highcharts.setOptions({...sharedChartOptions});const theChart=()=>new Highcharts.Chart({...allPropsWithYAxis});theChart();renderExtras(props)};const elButtons=document.getElementById(`${renderTo}__buttons`);if(showFilter&&elButtons&&!isIE11){const classesElButtons=["range-selector__wrapper","m-b-20"];const classesBtnsWrapper=["d-flex","align-items-center","range-selector",`range-selector--${renderTo}`];const classesBtnsHeader=["range-selector__title","m-r-10"];const classesBtnActive=["button--bordered","range-selector__btn","m-r-5"];const classesBtnsInactive=["button--bordered--inactive","range-selector__btn","m-r-5"];const btnsWrapper=document.createElement("div");const btnsHeader=document.createElement("h4");const btnActive=document.createElement("button");elButtons.classList.add(...classesElButtons);btnsWrapper.classList.add(...classesBtnsWrapper);btnsHeader.classList.add(...classesBtnsHeader);btnActive.classList.add(...classesBtnActive);btnsHeader.innerText=`${buttonHeader}:`;btnActive.innerText=buttonActiveText;btnsWrapper.appendChild(btnsHeader);btnsWrapper.appendChild(btnActive);if(buttonsInactive.length){for(const item of buttonsInactive){const btn=document.createElement("button");btn.classList.add(...classesBtnsInactive);btn.innerText=item.text;btn.setAttribute("value",item.value);btnsWrapper.appendChild(btn)}}elButtons.appendChild(btnsWrapper);const buttons=document.querySelectorAll(`#${renderTo}__buttons .range-selector__btn`);let selectedButton=document.querySelector(`#${renderTo}__buttons .button--bordered`);const buttonsChartData=[];for(let i=0;i<buttons.length;i++){const valueToSend=buttons[i].getAttribute("value");if(!valueToSend){buttonsChartData.push(data)}else{const dataToReturn={...data,series:[],timeline:[]};for(let y=0,z=data.series.length;y<z;y++){const slicedData=sliceData(data.series[y].data,valueToSend);const seriesToPush={...data.series[y],data:slicedData};dataToReturn.series.push(seriesToPush)}const slicedTimeline=sliceData(data.timeline,valueToSend);dataToReturn.timeline=slicedTimeline;buttonsChartData.push(dataToReturn)}}for(let q=0;q<buttons.length;q++){buttons[q].addEventListener("click",(()=>{if(buttons[q]!==selectedButton){selectedButton.classList.remove("button-bordered");selectedButton.classList.add("button--bordered--inactive");buttons[q].classList.remove("button--bordered--inactive");buttons[q].classList.add("button--bordered");selectedButton=buttons[q];renderTheChart({chart:{renderTo:renderTo,reflow:reflowStatus,...optionsChart,height:parseInt(optionsChart.height,10)||600},...data,...buttonsChartData[q]})}}))}}else{if(showFilter&&buttonActiveText){console.log(`[initChart] %c'buttonActiveText' has a value, but  '${renderTo}__buttons' was not found on the page. You either forgot to enable the filter or you don't need to define 'buttonActiveText'`,"background: #f9efb4; color: black")}if(showFilter&&!isEmpty(buttonsInactive)){console.log(`[initChart] %c'buttonsInactive' has a value, but '${renderTo}__buttons' was not found on the page. You either forgot to enable the filter or you don't need to define 'buttonsInactive'`,"background: #f9efb4; color: black")}}renderTheChart({chart:{reflow:reflowStatus,renderTo:renderTo,...optionsChart,height:parseInt(optionsChart.height,10)||600},...data});return null}console.warn(`[initChart] The 'series' prop (${renderTo}) was not passed. You will need it to get the graph rendered.`);return null}console.warn(`[initChart] The element with id '${renderTo}' was not found on the page. You will need it to get the graph rendered.`);return null}export const toggleCurrencySelection=({chartNok:chartNok,chartUsd:chartUsd,selectNok:selectNok,selectUsd:selectUsd,buttonsNok:buttonsNok,buttonsUsd:buttonsUsd,extrasNok:extrasNok,extrasUsd:extrasUsd,sourceTextNok:sourceTextNok,sourceTextUsd:sourceTextUsd})=>{if(chartNok&&chartUsd&&selectNok&&selectUsd){selectNok.addEventListener("click",(()=>{chartNok.classList.remove("hide");chartUsd.classList.add("hide");if(buttonsNok&&buttonsUsd){buttonsNok.classList.remove("hide");buttonsUsd.classList.add("hide")}if(extrasNok&&extrasUsd){extrasNok.classList.remove("hide");extrasUsd.classList.add("hide")}if(sourceTextNok&&sourceTextUsd){sourceTextNok.classList.remove("hide");sourceTextUsd.classList.add("hide")}}));selectUsd.addEventListener("click",(()=>{chartNok.classList.add("hide");chartUsd.classList.remove("hide");if(buttonsNok&&buttonsUsd){buttonsNok.classList.add("hide");buttonsUsd.classList.remove("hide")}if(extrasNok&&extrasUsd){extrasNok.classList.add("hide");extrasUsd.classList.remove("hide")}if(sourceTextNok&&sourceTextUsd){sourceTextNok.classList.add("hide");sourceTextUsd.classList.remove("hide")}}));return null}console.warn("[toggleCurrencySelection]: one of the expected elements is not defined");return null};export function renderChart(props){if(props.id1&&props.id1.id){const options1=props.id1.options?props.id1.options:{};const doIt=()=>{initChart({renderTo:props.id1.id,reflowStatus:props.reflowStatus,chartType:props.type,data:{series:props.id1.series,...options1},height:props.height,showFilter:props.showFilter,buttonHeader:props.buttonHeader,buttonActiveText:props.buttonActiveText,buttonsInactive:props.buttonsInactive,extras:props.extras,optionsYAxis:props.id1.optionsYAxis,optionsChart:props.optionsChart});if(props.id2&&props.id2.id){const options2=props.id2.options?{...options1,...props.id2.options}:options1;initChart({renderTo:props.id2.id,reflowStatus:props.reflowStatus,chartType:props.type,data:{series:props.id2.series,...options2},height:props.height,showFilter:props.showFilter,buttonHeader:props.buttonHeader,buttonActiveText:props.buttonActiveText,buttonsInactive:props.buttonsInactive,extras:props.extras,optionsYAxis:props.id2.optionsYAxis,optionsChart:props.optionsChart});toggleCurrencySelection({chartNok:document.getElementById(props.id1.id),chartUsd:document.getElementById(props.id2.id),selectNok:document.getElementById(`currency-${props.id1.id}`),selectUsd:document.getElementById(`currency-${props.id2.id}`),extrasNok:document.getElementById(`${props.id1.id}__extras`),extrasUsd:document.getElementById(`${props.id2.id}__extras`),buttonsNok:document.getElementById(`${props.id1.id}__buttons`),buttonsUsd:document.getElementById(`${props.id2.id}__buttons`),sourceTextNok:document.getElementById(`${props.id1.id}__source-text`),sourceTextUsd:document.getElementById(`${props.id2.id}__source-text`)})}};if(props.notLazy||typeof window==="object"&&window.netlife.inCMSPreview){doIt()}else{lazyScript(props.id1.id,null,100,(()=>{doIt()}))}}else{console.warn('[renderChart]: Either "props.id1" or "props.id1.id" is/are not defined')}}import{on,hasClass,setSelectedOption,getSiblings}from"./helpers";function findOlder(newValue){const childrenToAppend=[];const parent=document.getElementById(newValue).parentNode;for(const item of parent.children){if(item.id.search("older")!==-1){childrenToAppend.push(item.id)}}return childrenToAppend}export default function nbimFilterSelect({mainElId:mainElId,subElId:subElId,sharedListsClass:sharedListsClass,targetList:targetList,whenFilteredDoNotShow:whenFilteredDoNotShow,whenFilteredDoShow:whenFilteredDoShow}){const mainFilterElement=document.getElementById(mainElId);const subFilterElement=document.getElementById(subElId);const onChangeEvent=(selectedFilter,filterType)=>{const lists=document.getElementsByClassName(sharedListsClass);const theLists=[...lists];on(selectedFilter,"change",(e=>{e.preventDefault();const newValue=setSelectedOption(selectedFilter);if(filterType==="sub"){const toggle=(element,addClass,removeClass)=>{element.classList.add(addClass);element.classList.remove(removeClass)};if(whenFilteredDoNotShow&&whenFilteredDoShow){const whenFilteredDoNotShowEls=document.getElementsByClassName(whenFilteredDoNotShow);if(whenFilteredDoNotShowEls!==null){if(selectedFilter.value){document.querySelectorAll(`.${whenFilteredDoNotShow}`).forEach((item=>{item.classList.add("hide")}));document.querySelectorAll(`.${whenFilteredDoShow}`).forEach((item=>{item.classList.remove("hide")}))}else{document.querySelectorAll(`.${whenFilteredDoNotShow}`).forEach((item=>{item.classList.remove("hide")}));document.querySelectorAll(`.${whenFilteredDoShow}`).forEach((item=>{item.classList.add("hide")}))}}}const toggleVisibility=(htmlElements,subType)=>{const classFound=hasClass(htmlElements,subType,true);for(const htmlElement of htmlElements){if(classFound){toggle(htmlElement,"main-show","main-hide")}else{toggle(htmlElement,"main-hide","main-show")}}for(const htmlElement of htmlElements){if(subType==="all"){toggle(htmlElement,"dummy","toggle-show");toggle(htmlElement,"dummy","toggle-hide");toggle(htmlElement,"dummy","main-hide")}else if(hasClass(htmlElement,subType)){if(hasClass(htmlElement,"toggle-show")){if(hasClass(htmlElement,"main-hide")){toggle(htmlElement,"toggle-hide","toggle-show")}else if(hasClass(htmlElement,"main-show")){toggle(htmlElement,"toggle-show","toggle-hide")}else{toggle(htmlElement,"toggle-hide","toggle-show")}}else{toggle(htmlElement,"toggle-show","toggle-hide");const siblings=getSiblings(htmlElement);for(const sibling of siblings){if(!hasClass(sibling,subType)){toggle(sibling,"toggle-hide","toggle-show")}}}}}};const childrenExceptScriptTags=kids=>{const goodKids=[];for(const k of kids){if(k.tagName!=="SCRIPT"){goodKids.push(k)}}return goodKids};for(const option of mainFilterElement.children){if(typeof option.value!=="undefined"&&option.value!==""){const main=document.getElementById(option.value);const mainList=main&&targetList?main.getElementsByClassName("section__reports--list")[1]:null;if(targetList){if(mainList&&mainList.children&&childrenExceptScriptTags(mainList.children)){if(newValue&&newValue!==""){toggleVisibility(childrenExceptScriptTags(mainList.children),newValue)}else{toggleVisibility(childrenExceptScriptTags(mainList.children),"all")}}}else if(main&&main.children&&childrenExceptScriptTags(main.children)){if(newValue&&newValue!==""){toggleVisibility(childrenExceptScriptTags(main.children),newValue)}else{toggleVisibility(childrenExceptScriptTags(main.children),"all")}}}}}else{for(const l of theLists){const listId=l.id;if(newValue===""||newValue===null){if(hasClass(l,"toggle-hide")){l.classList.remove("toggle-hide")}l.classList.add("toggle-show")}if(listId!==newValue&&newValue!==""&&newValue!==null){if(hasClass(l,"toggle-show")){l.classList.remove("toggle-show")}l.classList.add("toggle-hide")}}const elToShow=document.getElementById(newValue);if(newValue!==""&&newValue!==null&&elToShow!==null){if(newValue.search("older")===-1){if(hasClass(elToShow,"toggle-hide")){elToShow.classList.remove("toggle-hide")}elToShow.classList.add("toggle-show");const siblings=getSiblings(elToShow);for(const sibling of siblings){sibling.classList.add("toggle-hide")}}else{const idsToShow=findOlder(newValue);idsToShow.forEach((element=>{const elForShow=document.getElementById(element);if(hasClass(elForShow,"toggle-hide")){elForShow.classList.remove("toggle-hide")}elForShow.classList.add("toggle-show");const siblings=getSiblings(elForShow);for(const sibling of siblings){if(sibling.id.search("older")===-1){sibling.classList.add("toggle-hide")}}}))}}else{for(const option of selectedFilter.children){if(typeof option.value!=="undefined"&&option.value!==""){const report=document.getElementById(option.value);if(report){report.classList.remove("toggle-hide")}}}}}}))};if(mainFilterElement!==null){onChangeEvent(mainFilterElement,"main")}if(mainFilterElement!==null&&subFilterElement!==null){onChangeEvent(subFilterElement,"sub")}}import{hasClass}from"./helpers";export default function nbimFoldedTableToggler(){const responsiveFoldedTables=document.getElementsByClassName("nbim-responsive-table--folded");const foldedTableTogglers=document.getElementsByClassName("nbim-responsive-table--folded__toggler");const focused="is-focused";const scrollToPos=[];if(responsiveFoldedTables&&foldedTableTogglers){const scrollTo=(e,position)=>{if(e&&typeof position==="number"){window.scrollTo({top:position,left:0,behavior:"smooth"})}};const tableToggler=(i,e)=>{const body=responsiveFoldedTables[i].querySelector("tbody");const footer=responsiveFoldedTables[i].querySelector("tfoot");const button=e?e.target:null;for(let tr=3;tr<body.children.length;tr++){const rowClass=body.children[tr].classList;if(rowClass.contains("visually-hidden")){body.children[tr].classList.remove("visually-hidden");foldedTableTogglers[i].classList.add("up");foldedTableTogglers[i].setAttribute("aria-expanded",true)}else{body.children[tr].classList.add("visually-hidden");foldedTableTogglers[i].classList.remove("up");foldedTableTogglers[i].setAttribute("aria-expanded",false);foldedTableTogglers[i].classList.remove(focused);if(e){scrollTo(e,scrollToPos[i])}}if(footer&&body.children.length===tr+1){if(footer.classList.contains("visually-hidden")){footer.classList.remove("visually-hidden")}else{footer.classList.add("visually-hidden")}}}if(button){const currentText=button.textContent;const dataText=button.getAttribute("data-button-text");button.setAttribute("data-button-text",currentText);button.textContent=dataText}};for(let i=0,j=foldedTableTogglers.length;i<j;i++){if(responsiveFoldedTables){scrollToPos.push(responsiveFoldedTables[i].getBoundingClientRect().top+(window.scrollY-100))}tableToggler(i);foldedTableTogglers[i].addEventListener("click",(e=>{e.preventDefault();tableToggler(i,e)}))}}const buttons=document.getElementsByClassName("nbim-table-container--button");const tables=document.getElementsByClassName("nbim-folded-table");const tablesHeight=[];const minimizeClassName="nbim-folded-table--minimize";if(buttons!==null){const buttonToggler=(e,i)=>{e.preventDefault();if(typeof tables[i]!=="undefined"){const buttonText=buttons[i].textContent;const dataText=buttons[i].getAttribute("data-text");if(hasClass(tables[i],minimizeClassName)){tables[i].classList.remove(minimizeClassName);tables[i].style.maxHeight=typeof tablesHeight[i]!=="undefined"?`${tablesHeight[i]}px`:"100%"}else{tables[i].classList.add(minimizeClassName);tables[i].style.maxHeight="325px"}buttons[i].textContent=dataText;buttons[i].setAttribute("data-text",buttonText)}};for(let i=0,j=buttons.length;i<j;i++){if(typeof tables[i]!=="undefined"){tablesHeight[i]=tables[i].offsetHeight;tables[i].style.maxHeight="325px"}buttons[i].addEventListener("click",(e=>{e.preventDefault();buttonToggler(e,i)}))}}}import IntersectionObserver from"intersection-observer-polyfill";export default function nbimLazyImg(lazyClass,animatedClass=null){const lazyImages=document.getElementsByClassName(lazyClass);const switchImage=(image,animation=false)=>{const imageUrl=typeof image.target!=="undefined"?image.target.getAttribute("data-lazy"):image.getAttribute("data-lazy");if(typeof imageUrl!=="undefined"){const target=typeof image.target!=="undefined"?image.target:image;if(target.hasAttribute("src")){target.src=imageUrl}else{target.style.backgroundImage=`url(${imageUrl})`}if(animation&&animatedClass&&window.scrollY>=window.innerHeight){target.classList.add(animatedClass)}else if(animatedClass&&window.scrollY<=window.innerHeight){target.classList.add("no-animation")}else{target.classList.add("no-animation")}}};const imageObserver=new IntersectionObserver((images=>{for(let i=0;i<images.length;i++){if(images[i].isIntersecting){switchImage(images[i],true)}}}));if(window.scrollY>=window.innerHeight){for(const image of lazyImages){if(image.getBoundingClientRect().top+window.scrollY<=window.scrollY){switchImage(image)}else{imageObserver.observe(image)}}}else if(lazyImages.length>0){for(const images of lazyImages){if("IntersectionObserver"in window&&window.location.href.match("/episerver/cms")===null){imageObserver.observe(images)}else{switchImage(images)}}}}import{on,hasClass}from"./helpers";export default function nbimMenuMobileToggler(headerId){const header=document.getElementById(headerId);if(header!==null){const menuMobileToggler=document.getElementById("menu-mobile");on(menuMobileToggler,"click",(e=>{e.preventDefault();if(hasClass(header,"menu-mobile-inactive")){header.classList.remove("menu-mobile-inactive");header.classList.add("menu-mobile-active")}else{header.classList.remove("menu-mobile-active");header.classList.add("menu-mobile-inactive")}}))}}import{isPath}from"./helpers";export default function nbimMenuStatus(menuId,slugs){const menu=document.getElementById(menuId);if(menu!==null){const menuItems=menu.getElementsByClassName("menu-item");for(const menuItem of menuItems){menuItem.classList.remove("active")}for(const slug of slugs){if(isPath(slug)){const menuItemActive=document.getElementsByClassName(`menu-${slug}`)[0];menuItemActive.classList.add("active")}}}}import{on,isIE11}from"./helpers";function nbimScrollTo(triggerElementId=null,targetElementId=null,fastDuration=false){const triggerElement=document.getElementById(triggerElementId);const targetElement=document.getElementById(targetElementId);const scroll=(start,stop)=>{let currentPosition=start;setInterval((()=>{if(start<stop){if(currentPosition<=stop){currentPosition+=fastDuration?40:20;window.scroll(0,currentPosition)}else{clearInterval()}}else{if(currentPosition>=stop){currentPosition-=fastDuration?40:20;window.scroll(0,currentPosition)}else{clearInterval()}}}),fastDuration?1:5)};if(triggerElement&&triggerElement!==null){if(isIE11){triggerElement.style.display="none"}else{on(triggerElement,"click",(e=>{e.preventDefault();const start=document.documentElement.scrollTop;const stop=targetElement?targetElement.offsetTop:0;scroll(start,stop)}));if(triggerElementId==="nbimScrollUpButton"){window.addEventListener("scroll",(()=>{if(window.pageYOffset>=815){triggerElement.classList.remove("page-arrow-up");triggerElement.classList.add("page-arrow-up--visible")}else{triggerElement.classList.remove("page-arrow-up--visible");triggerElement.classList.add("page-arrow-up")}}))}}}}export default nbimScrollTo;import{on,hasClass}from"./helpers";export default function nbimSearchToggler(headerId){const header=document.getElementById(headerId);if(header!==null){const searchOpen=document.getElementById("search-open");const searchOpenInput=document.getElementById("search-input");const searchClose=document.getElementById("search-close");const searchInput=document.getElementById("search-input");on(searchOpen,"click",(e=>{e.preventDefault();if(hasClass(header,"search-inactive")){header.classList.remove("search-inactive");header.classList.add("search-active")}searchInput.focus()}));on(searchOpenInput,"keydown",(e=>{if("key"in e){if(e.keyCode===13&&hasClass(header,"search-inactive")&&hasClass(header,"menu-mobile-inactive")){e.preventDefault();header.classList.remove("search-inactive");header.classList.add("search-active");searchInput.focus()}}}));on(searchClose,"click",(e=>{e.preventDefault();if(hasClass(header,"search-active")){header.classList.remove("search-active");header.classList.add("search-inactive")}}));on(document,"keydown",(e=>{let isEsc=false;if("key"in e){if(e.key==="Escape"||e.key==="Esc"){isEsc=true}}else if(e.keyCode===27){isEsc=true}if(isEsc){if(hasClass(header,"search-active")){header.classList.remove("search-active");header.classList.add("search-inactive")}}}))}}import{getSiblings}from"./helpers";export default function nbimTabSwitcher(tabsWrapperClass=null,contentClass=null){const tabsWrappers=document.getElementsByClassName(tabsWrapperClass);const sectionTabsContent=document.getElementsByClassName(contentClass);if(tabsWrappers){const tabSwitcher=(e,clickedTab,currentSectionIndex,tabIndex)=>{e.preventDefault();clickedTab.classList.add("selected");const tabsiblings=getSiblings(clickedTab);for(const sibling of tabsiblings){sibling.classList.remove("selected")}const currentSectionContent=sectionTabsContent[currentSectionIndex].children;const currentSectionTabContent=currentSectionContent[tabIndex];currentSectionTabContent.classList.add("selected");const contentSiblings=getSiblings(currentSectionTabContent);for(const sibling of contentSiblings){sibling.classList.remove("selected")}};Object.keys(tabsWrappers).map((i=>{const tabs=tabsWrappers[i].children;Object.keys(tabs).map((tab=>{tabs[tab].addEventListener("click",(e=>{e.preventDefault();tabs[tab].blur();tabSwitcher(e,tabs[tab],i,tab)}))}))}))}}export default function nbimTableColumnToggler(){const buttons=document.getElementsByClassName("nbim-responsive-table__toggler");const selected="is-selected";const focused="is-focused";if(buttons!==null){const columnToggler=i=>{const row=buttons[i].parentElement.parentElement;const isSelected=row.classList.contains(selected);if(isSelected){row.classList.remove(selected);buttons[i].classList.remove(selected);buttons[i].setAttribute("aria-expanded",false)}else{row.classList.add(selected);buttons[i].classList.remove(focused);buttons[i].setAttribute("aria-expanded",true);buttons[i].classList.add(selected)}};for(let i=0,j=buttons.length;i<j;i++){buttons[i].addEventListener("click",(()=>{columnToggler(i)}))}}}import{getSiblings}from"./helpers";export default function nbimTableScrollIndicator(){const indicators=document.getElementsByClassName("nbim-responsive-table__scroll-indicator");const calculateAndToggleIndicators=()=>{for(let i=0,j=indicators.length;i<j;i++){const indicator=indicators[i];const tableWrapper=getSiblings(indicators[i])[0];const table=tableWrapper?tableWrapper.children[0]:null;const tableOuterContainer=tableWrapper?tableWrapper.parentElement.parentElement:null;if(table&&tableOuterContainer){if(table.offsetWidth-20>tableOuterContainer.offsetWidth){indicator.classList.add("nbim-responsive-table__scroll-indicator--visible");table.style.paddingRight="20px";indicator.addEventListener("click",(()=>{let scrolledAmount=0;const slideTimer=setInterval((()=>{if(scrolledAmount>=table.offsetWidth-tableOuterContainer.offsetWidth){window.clearInterval(slideTimer)}else{table.parentNode.scrollLeft+=15;scrolledAmount+=15}}),25)}))}else{indicator.classList.remove("nbim-responsive-table__scroll-indicator--visible");table.style.paddingRight="0"}}}};const reportWindowSize=()=>{if(indicators){calculateAndToggleIndicators()}};if(indicators){calculateAndToggleIndicators()}window.onresize=reportWindowSize}export default function nbimTableToExcel(){const downloadFile=table=>{const tableHTML=document.getElementsByClassName("nbim-responsive-table__exportable--table")[table];const exportTable=document.createElement("table");const tableHead=tableHTML.querySelector("thead");if(tableHead){const exportTableHead=document.createElement("thead");const exportTableHeadRow=document.createElement("tr");let tableHeadColumns="";if(tableHead.querySelector("tr")){tableHeadColumns=tableHead.querySelector("tr").children}else{tableHeadColumns=tableHead.children}for(let i=0,j=tableHeadColumns.length;i<j;i++){const exportTableHeadColumn=document.createElement("td");exportTableHeadColumn.innerText=tableHeadColumns[i].innerText;exportTableHeadRow.appendChild(exportTableHeadColumn);exportTableHead.appendChild(exportTableHeadRow)}exportTable.appendChild(exportTableHead)}if(tableHTML.querySelector("tbody")){const exportTableBody=document.createElement("tbody");const tableBodyRows=tableHTML.querySelector("tbody").children;for(let i=0,j=tableBodyRows.length;i<j;i++){const exportTableBodyRow=document.createElement("tr");const columns=tableBodyRows[i].children;for(let k=0,l=columns.length;k<l;k++){const exportTableBodyColumn=document.createElement("td");const columnSpanValue=columns[k].querySelector(".nbim-responsive-table--value");let columnValue="";if(columnSpanValue){columnValue=columnSpanValue.innerText}else{columnValue=columns[k].innerText}if(columnValue){exportTableBodyColumn.innerText=columnValue;exportTableBodyRow.appendChild(exportTableBodyColumn);exportTableBody.appendChild(exportTableBodyRow)}}}exportTable.appendChild(exportTableBody)}const tableFoot=tableHTML.querySelector("tfoot");if(tableFoot){const exportTableFoot=document.createElement("tfoot");const exportTableFootRow=document.createElement("tr");let tableFootColumns="";if(tableFoot.querySelector("tr")){tableFootColumns=tableFoot.querySelector("tr").children}else{tableFootColumns=tableFoot.children}for(let i=0,j=tableFootColumns.length;i<j;i++){const exportTableFootColumn=document.createElement("td");exportTableFootColumn.innerText=tableFootColumns[i].innerText;exportTableFootRow.appendChild(exportTableFootColumn);exportTableFoot.appendChild(exportTableFootRow)}exportTable.appendChild(exportTableFoot)}const s2ab=s=>{const buf=new ArrayBuffer(s.length);const view=new Uint8Array(buf);for(let i=0;i<s.length;i++)view[i]=s.charCodeAt(i)&255;return buf};const wb=XLSX.utils.table_to_book(exportTable,{sheet:"Sheet JS"});const wbout=XLSX.write(wb,{bookType:"xls",bookSST:true,type:"binary"});saveAs(new Blob([s2ab(wbout)],{type:"application/octet-stream"}),"nbim-data-dump.xls")};const downloadButtons=document.getElementsByClassName("nbim-responsive-table--folded__download");for(let i=0,j=downloadButtons.length;i<j;i++){downloadButtons[i].addEventListener("click",(()=>downloadFile(i)))}}import{hasClass,on}from"./helpers";export default function nbimTableToggler(){const button=document.getElementById("nbim-folded-table--toggler");if(button!==null){on(button,"click",(e=>{e.preventDefault();const table=document.getElementsByClassName("nbim-folded-table");if(hasClass(table[0],"hidden")){table[0].classList.remove("hidden")}else{table[0].classList.add("hidden")}}))}}import{on,hasClass,setAttrs,getSiblings}from"./helpers";export default function nbimToggler(wrapperId){const w=document.getElementById(wrapperId);if(w!==null){const togglers=w.getElementsByClassName("toggler");const theTogglers=[...togglers];for(const[i,t]of theTogglers.entries()){setAttrs(t,{id:`${wrapperId}-toggler-id-${i}`});const toggleItems=getSiblings(t);const theToggleItems=[...toggleItems];for(const tI of theToggleItems.entries()){tI[1].classList.add(`${wrapperId}-toggle-item-id-${i}`)}}const triggers=document.querySelectorAll(`button[id^="${wrapperId}-toggler-id-"]`);for(let i=0;i<triggers.length;i++){const x=triggers[i];const id=x.id;const idNumber=id.replace(`${wrapperId}-toggler-id-`,"");const matchingToggleItems=document.getElementsByClassName(`${wrapperId}-toggle-item-id-${idNumber}`);const theMatchingToggleItems=[...matchingToggleItems];const childrenAnchors=x.getElementsByTagName("a");if(childrenAnchors.length>0){for(let y=0;y<childrenAnchors.length;y++){on(childrenAnchors[y],"click",(e=>{e.stopPropagation()}))}}if(hasClass(x,"toggler-on")){setAttrs(x,{"aria-pressed":true,"aria-expanded":true})}else if(hasClass(x,"toggler-off")){setAttrs(x,{"aria-pressed":false,"aria-expanded":false})}on(x,"click",(e=>{e.preventDefault();const toggleTitleItems=x.getElementsByClassName("toggle-item");const tti=[...toggleTitleItems];for(const it of tti.entries()){if(hasClass(it[1],"toggle-show")){it[1].classList.remove("toggle-show");it[1].classList.add("toggle-hide")}else{it[1].classList.remove("toggle-hide");it[1].classList.add("toggle-show")}}for(const mti of theMatchingToggleItems.entries()){if(hasClass(mti[1],"toggle-show")){mti[1].classList.remove("toggle-show");mti[1].classList.add("toggle-hide")}else if(hasClass(mti[1],"toggle-hide")){mti[1].classList.remove("toggle-hide");mti[1].classList.add("toggle-show")}}if(hasClass(x,"toggler-on")){x.classList.remove("toggler-on");x.classList.add("toggler-off");setAttrs(x,{"aria-pressed":false,"aria-expanded":false})}else if(hasClass(x,"toggler-off")){x.classList.remove("toggler-off");x.classList.add("toggler-on");setAttrs(x,{"aria-pressed":true,"aria-expanded":true})}}))}}}const inputEmail=document.getElementById("mail");let inputEmailValue;if(inputEmail!==null)inputEmailValue=inputEmail.value;const verifyEmailBtn=document.getElementById("verify");const acceptTerms=document.getElementById("Confirm");const errorMsg=document.getElementById("errorMsg");let validEmail=false;export function initialRender(){errorMsg.style.display="none";verifyEmailBtn.classList.add("disabled");verifyEmailBtn.setAttribute("disabled","")}function validateEmail(email){const re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase())}export function inputChangeEventHandler(event){this.setAttribute("value",event.target.value);inputEmailValue=event.target.value;if(!validateEmail(inputEmailValue)){errorMsg.style.display="block";validEmail=false}else{errorMsg.style.display="none";validEmail=true}if(event.target.value){if(acceptTerms.hasAttribute("checked")&&validEmail){verifyEmailBtn.removeAttribute("disabled");verifyEmailBtn.classList.remove("disabled")}else{verifyEmailBtn.classList.add("disabled");verifyEmailBtn.setAttribute("disabled","")}}else{verifyEmailBtn.classList.add("disabled");verifyEmailBtn.setAttribute("disabled","")}}export function termsChangeEventHandler(event){if(event.target.checked){acceptTerms.classList.add("checked");acceptTerms.setAttribute("checked","");validEmail=validateEmail(inputEmailValue);if(inputEmailValue&&validateEmail(inputEmailValue)){verifyEmailBtn.removeAttribute("disabled");verifyEmailBtn.classList.remove("disabled")}else{verifyEmailBtn.classList.add("disabled");verifyEmailBtn.setAttribute("disabled","")}}else{acceptTerms.classList.remove("checked");acceptTerms.removeAttribute("checked");verifyEmailBtn.classList.add("disabled");verifyEmailBtn.setAttribute("disabled","")}}import Highcharts from"highcharts";import lazyScript from"./lazyScript";import{renderChart}from"./nbimCharts";import nbimToggler from"./nbimToggler";window.lazyScript=lazyScript;window.renderChart=renderChart;window.Highcharts=Highcharts;window.nbimToggler=nbimToggler;